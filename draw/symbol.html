<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>散点图</title>
    <script src="../lib/d3.v5.js"></script>
</head>
<body>
<script type="text/javascript">
    var width = 600;
    var height = 600;
    var svg = d3.select('body').append('svg')
            .attr('width', width)
            .attr('height', height);
    var n = 30;
    var data = [];
    var symbolTypes = ['symbolCircle', 'symbolCross', 'symbolDiamond', 'symbolSquare', 'symbolStar', 'symbolTriangle', 'symbolWye'];
    for (var i = 0; i < n; i++) {
        data.push({
            size: Math.random() * 30 + 200,
            type: symbolTypes[Math.floor(Math.random() * symbolTypes.length)]
        });
    }
    console.log(data)
    var symbol = d3.symbol()
            .size(function (d) {
                return d.size;
            })
            .type(function (d) {
                return d.type;
            });
    var color = d3.schemeCategory10;
    svg.selectAll('path')
            .data(data)
            .enter()
            .append('path')
            .attr('d', function (d) {
                return symbol(d);
            })
            .attr('transform', function (d, i) {
                var x = 100 + i % 5 * 20;
                var y = 100 + Math.floor(i / 5) * 20;
                return 'translate(' + x + ',' + y + ')';
            })
            .attr('fill', function (d, i) {
                return color[i];
            });
</script>
</body>
</html>